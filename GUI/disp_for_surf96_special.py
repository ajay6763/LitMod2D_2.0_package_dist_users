import numpy as np
length=input('Enter Profile length:  ')
reso=input('Enter resolution along length: ')
disp_sampling=input('Enter resolution of disp_sampling : ')

data=np.loadtxt("data_phase_vel")
data_err=np.loadtxt("data_phase_vel_err")
x_nodes=length/reso
prog='SURF96'
control=1
control = input("What waves you want Love ( 0 ) or Rayleigh ( 1 - default value )  : ")
if control==1:
	surf_wave='R'
elif control==0:
	surf_wave='L'
else:
	surf_wave='R'




control=1
control=input("Do you want phase ( 0 ) or group ( 1 - default ) velocities : ")
if control==1:
	vel_type='U'
elif control==0:
	vel_type='C'
else:
	vel_type='U'



mod=0
xx='X'
error= 0.0
time_period=[4 ,6, 8, 10, 12, 14 ,16 ,20 ,25 ,30, 35, 40, 45, 50, 59, 67, 77, 87, 100, 111, 125, 143,167]

#try:
for i in range(x_nodes):
	if data[i,0] == 'NaN':
		print 'yes'
		pass 
	elif data[i,0] > 0:
		#s=str(str(i)+"_"+str(surf_wave)+"_"+str(vel_type)+"_SURF96.inp")
		s=str(str(i*disp_sampling)+"_SURF96.inp")
		f=open(s,"w")
		for j in range(len(time_period)):
			f.writelines("%s \t %s \t %s \t %s \t %d \t %8.4f \t %f \t %f \n" %(prog,surf_wave,vel_type,xx,mod,time_period[j], data[i,j],data_err[i,j]))
			'''
			f.writelines("0.000000    	  9.030000    	  4.870000   	  3.672600   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("50.000000    	  9.360000    	  5.080000   	  3.797600   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("50.000000    	  9.528000    	  5.186000   	  3.861200   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("50.000000    	  9.696000    	  5.292000   	  3.924800   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("50.000000    	  9.864000    	  5.398000   	  3.988500   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("50.000000    	  10.032000    	  5.504000   	  4.052100   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("0.000000    	  10.200000    	  5.610000   	  4.115800   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("50.000000    	  10.790000    	  5.960000   	  4.339300   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("50.000000    	  10.922900    	  6.089700   	  4.389600   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  11.055800    	  6.209500   	  4.439900   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  11.135300    	  6.242600   	  4.470100   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  11.222100    	  6.279800   	  4.502900   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  11.306800    	  6.316000   	  4.535000   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  11.389600    	  6.351200   	  4.566400   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  11.470500    	  6.385400   	  4.597000   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  11.549500    	  6.418700   	  4.627000   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  11.626900    	  6.451000   	  4.656300   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  11.702600    	  6.482800   	  4.684900   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  11.776600    	  6.513800   	  4.713000   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  11.849100    	  6.543900   	  4.740400   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  11.920000    	  6.572700   	  4.767300   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  11.989500    	  6.600800   	  4.793600   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  12.057700    	  6.628500   	  4.819500   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  12.124500    	  6.655500   	  4.844800   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  12.191200    	  6.681500   	  4.870000   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  12.255000    	  6.707300   	  4.894200   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  12.318500    	  6.732600   	  4.918200   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  12.381900    	  6.757300   	  4.942300   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  12.442600    	  6.781500   	  4.965300   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  12.503100    	  6.805200   	  4.988200   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  12.563100    	  6.828600   	  5.010900   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  12.622100    	  6.851500   	  5.033300   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  12.680400    	  6.874200   	  5.055300   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  12.738200    	  6.897200   	  5.077200   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  12.795600    	  6.919400   	  5.099000   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  12.852600    	  6.941800   	  5.120600   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 	
			f.writelines("49.500000    	  12.909600    	  6.962700   	  5.142200   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  12.966800    	  6.985500   	  5.163800   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  13.022200    	  7.006300   	  5.184800   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  13.078300    	  7.028100   	  5.206100   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  13.133600    	  7.050000   	  5.227000   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  13.189400    	  7.072000   	  5.248100   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  13.246500    	  7.093100   	  5.269800   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  13.301800    	  7.114400   	  5.290700   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  13.358500    	  7.136900   	  5.312200   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.500000    	  13.415600    	  7.158600   	  5.333800   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("48.500000    	  13.474100    	  7.180700   	  5.356000   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("50.000000    	  13.531200    	  7.203100   	  5.377600   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("50.000000    	  13.590000    	  7.225800   	  5.399900   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("0.000000    	  13.649400    	  7.249000   	  5.422400   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.670000    	  13.649400    	  7.249000   	  5.422400   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("49.660000    	  13.653000    	  7.259700   	  5.423800   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			f.writelines("52.170000    	  13.656600    	  7.270400   	  5.425100   	   200.0   	  100  	 0.0 	  0.0 	  1.0  	 1.0 \n") 
			'''
		f.close()
	else:
		continue
#except Exception:
#	print("Something is wronge with data.\n Check if you really have dispersion data at each node in your profile. \n Input file for dispersion calculations are made upto the point where you have dispersion data.")
